<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:p="http://primefaces.org/ui" 
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <f:metadata>
		<f:event listener="#{loginController.redirectIfNotAnonymous}" type="preRenderView" />
	</f:metadata>
    <h:head>
    	<title>User login</title>    	
    </h:head>
    <h:body>
    	<ui:composition template="/template/templateLayout.xhtml">
		    <ui:define name="content">
		    	<div class="container ">
			        <div class="row ">
			          <div class="col-md-3 "></div>
			          
			          <div class="col-md-6">
			          	<br/><br/>
			          	<h1><h:outputText value="#{msg['login.jsf']}" /></h1>
		    			<h:form id="login-form">
		    				<h:inputText id="login-field" required="true" maxlength="100" class="form-control" value="#{loginController.login}" a:placeholder="#{msg['login.jsf']}" requiredMessage="Login can't be empty"/><br/>
					    	<h:inputSecret id="password-field" required="true" class="form-control" value="#{loginController.password}" a:placeholder="#{msg['password.jsf']}" requiredMessage="Password can't be empty"/><br/>  
					    	<h:commandButton id="submit-button" class="btn btn-default" value="#{msg['login.jsf']}" action="#{loginController.doLogin()}"/>
					    </h:form>
					    <br/>
					    <div class="row">
							<h:panelGroup id="store-error" class="alert alert-danger" role="alert" rendered="#{loginController.error}">
								Error: #{loginController.errorMessage}
							</h:panelGroup>
						</div>
			            <br/><br/>
			          </div>
			          <div class="col-md-3 "></div>
			        </div>
			      </div>
    		</ui:define>
			
    	</ui:composition>
    	
    </h:body>

</html>